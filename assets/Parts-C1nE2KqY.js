import{r,j as o,c as d}from"./index-z5lqyktd.js";const m=(t="")=>{const s=`cat-api-cache-${t}`,[e,n]=r.useState(()=>f(s,[]));return r.useEffect(()=>{e.length>0||(async()=>{const c="https://api.thecatapi.com/v1/images/search?limit=10";try{const l=await(await fetch(c)).json();sessionStorage.setItem(s,JSON.stringify(l)),n(l)}catch(i){console.error(i)}})()},[s,e]),e},f=(t,s)=>{try{const e=sessionStorage.getItem(t);return e?JSON.parse(e):s}catch{return s}},h=({users:t})=>{const s=r.useMemo(()=>t.slice(0,6).reverse(),[t]);return o.jsxs("div",{className:"flex flex-row-reverse justify-end",children:[s.length>=6&&o.jsx(p,{}),s.map(e=>o.jsx("img",{className:d(u,"z-10 -ml-12 cursor-pointer transition-all last:ml-0 hover:z-20 hover:not-last:-ml-6"),src:e.url},e.id))]})},p=()=>o.jsx(o.Fragment,{children:[...Array(3)].map((t,s)=>o.jsx("div",{className:d(u,"z-10 -ml-18")},s))}),u=d("box-content size-24 shrink-0 rounded-full border-4 border-white bg-gray-300 object-cover"),w=(t=!1)=>{const[s,e]=r.useState(t),n=r.useCallback(()=>e(!0),[]),c=r.useCallback(()=>e(!1),[]),i=r.useCallback(()=>e(l=>!l),[]);return[s,n,c,i]};class a{static twttrPromise;static resolvedTwttr;destroyed=!1;load(s){a.twttrPromise||(a.twttrPromise=new Promise(e=>{const n=document.createElement("script");n.src="https://platform.x.com/widgets.js",n.async=!0,n.onload=()=>{window.twttr.ready(c=>{a.resolvedTwttr=c,e(c)})},document.body.appendChild(n)})),a.twttrPromise.then(e=>{this.destroyed||s(e)})}destroy(){this.destroyed=!0}}const x=()=>{const[t,s]=r.useState(a.resolvedTwttr);return r.useEffect(()=>{if(t)return;const e=new a;return e.load(s),()=>e.destroy()},[t]),t},y=t=>{const[s,e]=w(),n=r.useRef(!1);return r.useEffect(()=>{if(!t.current)return;const c=new ResizeObserver(i=>{if(!n.current){n.current=!0;return}i.forEach(e)});return c.observe(t.current),()=>{c.disconnect()}},[t,e]),s},g=()=>{const t=m();return o.jsx("div",{className:"no-scrollbar overflow-scroll",children:o.jsx(h,{users:t})})},j=()=>{const t=r.useRef(null),s=x();r.useEffect(()=>{t.current&&s&&s.widgets.createTweet("1311692266260447232",t.current,{cards:"hidden"})},[s]);const e=y(t);return o.jsxs("div",{className:"flex min-h-[260px] flex-col justify-between",children:[o.jsx("div",{ref:t,className:"*:my-0!"}),o.jsx("span",{children:e?"Loaded ✅":"Loading...⏳"})]})};export{j as EmbeddedTweet,g as RecentUserIcons_};
