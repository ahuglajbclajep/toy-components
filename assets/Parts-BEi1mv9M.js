import{r as o,j as r,c as d}from"./index-CBGKgfcR.js";import{u as m}from"./useBooleanState-Dbf9vfCr.js";const f=(e="")=>{const t=`cat-api-cache-${e}`,[s,n]=o.useState(()=>h(t,[]));return o.useEffect(()=>{s.length>0||(async()=>{const c="https://api.thecatapi.com/v1/images/search?limit=10";try{const l=await(await fetch(c)).json();sessionStorage.setItem(t,JSON.stringify(l)),n(l)}catch(i){console.error(i)}})()},[t,s]),s},h=(e,t)=>{try{const s=sessionStorage.getItem(e);return s?JSON.parse(s):t}catch{return t}},p=({users:e})=>{const t=o.useMemo(()=>e.slice(0,6).reverse(),[e]);return r.jsxs("div",{className:"flex flex-row-reverse justify-end",children:[t.length>=6&&r.jsx(w,{}),t.map(s=>r.jsx("img",{className:d(u,"z-10 -ml-12 cursor-pointer transition-all last:ml-0 hover:z-20 hover:not-last:-ml-6"),src:s.url},s.id))]})},w=()=>r.jsx(r.Fragment,{children:[...Array(3)].map((e,t)=>r.jsx("div",{className:d(u,"z-10 -ml-18")},t))}),u=d("box-content size-24 shrink-0 rounded-full border-4 border-white bg-gray-300 object-cover");class a{static twttrPromise;static resolvedTwttr;destroyed=!1;load(t){a.twttrPromise||(a.twttrPromise=new Promise(s=>{const n=document.createElement("script");n.src="https://platform.x.com/widgets.js",n.async=!0,n.onload=()=>{window.twttr.ready(c=>{a.resolvedTwttr=c,s(c)})},document.body.appendChild(n)})),a.twttrPromise.then(s=>{this.destroyed||t(s)})}destroy(){this.destroyed=!0}}const x=()=>{const[e,t]=o.useState(a.resolvedTwttr);return o.useEffect(()=>{if(e)return;const s=new a;return s.load(t),()=>s.destroy()},[e]),e},y=e=>{const[t,s]=m(),n=o.useRef(!1);return o.useEffect(()=>{if(!e.current)return;const c=new ResizeObserver(i=>{if(!n.current){n.current=!0;return}i.forEach(s)});return c.observe(e.current),()=>{c.disconnect()}},[e,s]),t},g=()=>{const e=f();return r.jsx("div",{className:"no-scrollbar overflow-scroll",children:r.jsx(p,{users:e})})},b=()=>{const e=o.useRef(null),t=x();o.useEffect(()=>{e.current&&t&&t.widgets.createTweet("1311692266260447232",e.current,{cards:"hidden"})},[t]);const s=y(e);return r.jsxs("div",{className:"flex min-h-[260px] flex-col justify-between",children:[r.jsx("div",{ref:e,className:"*:my-0!"}),r.jsx("span",{children:s?"Loaded ✅":"Loading...⏳"})]})};export{b as EmbeddedTweet,g as RecentUserIcons_};
