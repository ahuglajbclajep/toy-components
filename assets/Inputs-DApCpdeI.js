import{r as e,j as n,c as g,i as f}from"./index-CuAjK3dV.js";const w=({maxLength:t,className:s})=>{const[l,a]=e.useState(""),c=e.useRef(null);e.useEffect(()=>{c.current&&(c.current.style.height="auto",c.current.style.height=`${c.current.scrollHeight}px`)},[l]);const u=e.useCallback(r=>{const o=r.currentTarget.value;t&&o.length>t||a(o)},[]);return n.jsx("textarea",{ref:c,rows:1,value:l,onChange:u,className:g(f,"resize-none overflow-y-hidden text-base wrap-break-word",s)})},p=({tag:t,onClick:s,isEditing:l=!1})=>n.jsxs("button",{tabIndex:0,onClick:s,className:g("h-6 cursor-pointer rounded-md bg-blue-500 px-1.5 py-0.5 text-sm text-white","flex items-center gap-1"),children:[n.jsxs("span",{children:["# ",t]}),l&&n.jsx("span",{children:"âœ–"})]}),C=g("flex flex-wrap items-center gap-2"),S=({inputTags:t,onClickInputTag:s,searchText:l,onChangeSearchText:a,children:c,placeholder:u})=>{const[r,o]=e.useState("editable"),d=r==="editing",x=e.useRef(null),b=e.useCallback(()=>{if(r==="editable"){o("editing");return}x.current?.focus()},[r]),m=e.useCallback(i=>{i.currentTarget.contains(i.relatedTarget)||o("editable")},[]);e.useEffect(()=>{r==="editing"&&x.current&&x.current.focus()},[r]);const j=e.useCallback(i=>()=>{r==="editing"&&s(i),x.current?.focus()},[r,s]),k=e.useCallback(i=>{a(i.currentTarget.value)},[a]);return n.jsx("div",{className:"relative",children:n.jsxs("div",{onClick:b,onBlur:m,className:g(C,f,"p-1"),children:[!d&&!t.length&&n.jsx("span",{className:"h-6 text-base text-gray-500",children:u}),t.map(i=>n.jsx(p,{tag:i,isEditing:d,onClick:j(i)},i)),d&&n.jsx("input",{ref:x,type:"text",tabIndex:0,value:l,onChange:k,className:"flex-1 resize-none overflow-hidden border-none bg-transparent outline-none"}),d&&n.jsx("div",{className:"absolute top-full left-0 z-10 w-full",children:c})]})})},v=t=>s=>s.toLowerCase().includes(t.toLowerCase()),T=({suggestTags:t,inputTags:s,searchText:l,onClickTag:a})=>{const[c,u]=e.useState([]),r=e.useMemo(()=>t.filter(o=>!s.includes(o)),[s,t]);return e.useEffect(()=>{const o=r.filter(v(l));u(o)},[l,r]),c.length?n.jsx("div",{className:g(f,"max-h-[60px] cursor-default! overflow-y-scroll border-t-0 focus-within:outline-0"),children:n.jsx(y,{tags:c,onClickTag:a})}):null},y=({tags:t,onClickTag:s})=>{const l=e.useCallback(a=>()=>{s(a)},[s]);return n.jsx("div",{className:C,children:t.map(a=>n.jsx(p,{tag:a,onClick:l(a)},a))})},N=()=>n.jsx(w,{}),h=["Assembly","BASIC","C++","Dart","Elixir","F#","Go","Haskell","Idris","Java"],E=()=>{const[t,s]=e.useState(h.slice(0,3)),[l,a]=e.useState(""),c=e.useCallback(r=>{s(o=>o.filter(d=>d!==r))},[]),u=e.useCallback(r=>{s(o=>[...o,r]),a("")},[]);return n.jsx(S,{inputTags:t,onClickInputTag:c,searchText:l,onChangeSearchText:a,children:n.jsx(T,{suggestTags:h,inputTags:t,searchText:l,onClickTag:u})})};export{N as AutoResizingTextarea_,E as TagSearchInput};
